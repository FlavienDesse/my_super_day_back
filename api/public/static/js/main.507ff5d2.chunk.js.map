{"version":3,"sources":["Controller/CheckConnected.js","Model/helper.js","Model/globalRoutes.js","Model/Error404.js","Components/Layout.js","app.js","index.js"],"names":["authHeader","user","JSON","parse","window","localStorage","getItem","accessToken","authService","login","data","setItem","stringify","currentUser","callback","getCurrentUser","this","isConnected","requestOptions","method","headers","fetch","url","then","response","json","console","log","status","CheckConnected","res","deconnected","clear","undefined","subscribe","e","compose","mount","map","request","context","a","route","getView","req","Dashboard","Biorythm","redirect","Calculator","SignUp","SignIn","Error404","Layout","children","loadingRoute","useLoadingRoute","className","BusyIndicator","isBusy","delayMs","render","App","useState","setCurrentUser","useEffect","routes","fallback","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.507ff5d2.chunk.js","sourcesContent":["function authHeader() {\r\n    const user = JSON.parse(window.localStorage.getItem('users'));\r\n\r\n    if (user && user.accessToken) {\r\n        // for Node.js Express back-end\r\n        return {'x-access-token': user.accessToken};\r\n    } else {\r\n        return {};\r\n    }\r\n}\r\n\r\nexport default function getUserBoard() {\r\n\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: authHeader(),\r\n    };\r\n\r\n    return fetch(`${window.url}/mysuperday/api/users/verifyToken`, requestOptions)\r\n\r\n        .then(response => {\r\n               return response.json()\r\n                    .then(data => {\r\n                        console.log(data)\r\n                        if(response.status==403 ||response.status==401||response.status==500 ){\r\n                            return false;\r\n                        }\r\n                        return true;\r\n                    })\r\n            }\r\n        )\r\n\r\n\r\n}\r\n","import CheckConnected from \"../Controller/CheckConnected\";\r\n\r\nexport const authService = {\r\n\r\n    async login(data) {\r\n        window.localStorage.setItem('users', JSON.stringify(data))\r\n        this.currentUser = data\r\n        if (this.callback) {\r\n            this.callback(data)\r\n        }\r\n    },\r\n    getCurrentUser() {\r\n        return this.currentUser\r\n    },\r\n    isConnected() {\r\n\r\n        return CheckConnected().then((res) => {\r\n            return res\r\n        })\r\n    },\r\n    deconnected() {\r\n        console.log(window.localStorage)\r\n        delete this.currentUser\r\n        window.localStorage.clear();\r\n        if (this.callback) {\r\n            this.callback(undefined)\r\n        }\r\n        console.log(window.localStorage)\r\n    },\r\n\r\n    subscribe(callback) {\r\n        this.callback = callback\r\n        return () => {\r\n            this.callback = undefined\r\n        }\r\n    }\r\n\r\n}\r\ntry {\r\n    authService.currentUser = JSON.parse(window.localStorage.getItem('users'))\r\n} catch (e) {\r\n}","import {compose, mount, route, redirect, map} from 'navi'\r\nimport React from 'react'\r\n\r\nexport default compose(\r\n    mount({\r\n        '/mysuperday/dashboard/biorythme': map(async (request, context) =>\r\n            await context.authService.isConnected() ? route({\r\n                    getView:\r\n                        async (req, context) => {\r\n                            const {Dashboard} = await import('../Components/DashBoard/dashboard')\r\n                            const {Biorythm} = await import('../Components/Biorythm/BiorythmMain/biorythm')\r\n                            return (\r\n                                <Dashboard  authService={context.authService}>\r\n                                    <Biorythm/>\r\n                                </Dashboard>\r\n                            )\r\n                        },\r\n                })\r\n                :\r\n                redirect('/mysuperday/users/signin')\r\n        ),\r\n        '/mysuperday/dashboard/calculatrice': map(async (request, context) =>\r\n            await context.authService.isConnected() ? route({\r\n                    getView:\r\n                        async (req, context) => {\r\n                            const {Dashboard} = await import('../Components/DashBoard/dashboard')\r\n                            const {Calculator} = await import('../Components/Calculator/CalculatorMain/calculator')\r\n                            return (\r\n                                <Dashboard  authService={context.authService}>\r\n                                    <Calculator/>\r\n                                </Dashboard>\r\n                            )\r\n                        },\r\n                })\r\n                :\r\n                redirect('/mysuperday/users/signin')\r\n        ),\r\n        '/mysuperday/dashboard': map(async (request, context) =>\r\n            await context.authService.isConnected() ? route({\r\n                    getView:\r\n                        async (req, context) => {\r\n                            const {Dashboard} = await import('../Components/DashBoard/dashboard')\r\n                            return <Dashboard authService={context.authService}/>\r\n                        },\r\n                })\r\n                :\r\n                redirect('/mysuperday/users/signin')\r\n        ),\r\n        '/mysuperday/users/signup': route({\r\n            getView:\r\n                async (req, context) => {\r\n                    const {SignUp} = await import('../Components/SignUp/signUp')\r\n                    return <SignUp authService={context.authService}/>\r\n                },\r\n        }),\r\n        '/mysuperday/users/signin': map(async (request, context) =>\r\n            await context.authService.isConnected() ?\r\n                redirect('/mysuperday/dashboard')\r\n                : route({\r\n                    getView:\r\n                        async (req, context) => {\r\n\r\n                            const {SignIn} = await import('../Components/SignIn/signIn')\r\n                            return <SignIn authService={context.authService}/>\r\n                        },\r\n                })\r\n        ),\r\n        '/': redirect('/mysuperday/users/signin'),\r\n        '/mysuperday': redirect('/mysuperday/users/signin'),\r\n\r\n    })\r\n)","import React from \"react\";\r\n\r\n\r\nexport default function Error404 () {\r\n    return(\r\n        <div>\r\n            Erreur 404\r\n        </div>\r\n    )\r\n}","import BusyIndicator from 'react-busy-indicator'\r\nimport React from 'react'\r\nimport {  NotFoundBoundary, useLoadingRoute } from 'react-navi'\r\nimport Error404 from \"../Model/Error404\";\r\n\r\nexport default function Layout({ children }) {\r\n    // If there is a route that hasn't finished loading, it can be\r\n    // retrieved with `useLoadingRoute()`.\r\n    let loadingRoute = useLoadingRoute()\r\n\r\n    return (\r\n        <div className=\"Layout\">\r\n            {/* This component shows a loading indicator after a delay */}\r\n            <BusyIndicator isBusy={!!loadingRoute} delayMs={200} />\r\n            <main>\r\n                <NotFoundBoundary render={Error404}>\r\n                    {children}\r\n                </NotFoundBoundary>\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n","import React, {Suspense, useEffect, useState} from 'react'\r\nimport {authService} from './Model/helper'\r\nimport routes from './Model/globalRoutes'\r\nimport {Router, View} from 'react-navi'\r\nimport Layout from './Components/Layout'\r\n\r\nwindow.url = \"http://localhost:9000\"\r\n\r\nexport default function App() {\r\n    let [currentUser,setCurrentUser] = useState(() => authService.getCurrentUser())\r\n\r\n    useEffect(()=> authService.subscribe(setCurrentUser),[])\r\n\r\n    return (\r\n\r\n        <Router routes={routes} context={{authService, currentUser}}>\r\n            <Layout>\r\n                <Suspense fallback={null}>\r\n                    <View/>\r\n                </Suspense>\r\n\r\n            </Layout>\r\n\r\n        </Router>\r\n    )\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app'\r\nimport {BrowserRouter as Router} from \"react-router-dom\";\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Router>\r\n            <App></App>\r\n        </Router>\r\n\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}